(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{6383:function(a,s,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governanca",function(){return e(6246)}])},6246:function(a,s,e){"use strict";e.r(s),e.d(s,{default:function(){return t}});var r=e(2322),c=e(9381),i=e(2784);let o=a=>fetch(a).then(a=>a.json());function t(){let{data:a,error:s,mutate:e}=(0,c.ZP)("http://localhost:3000/api/governance",o),[t,n]=(0,i.useState)(""),[d,l]=(0,i.useState)(!1),x={membros:142,receita:710,ativos:87,royalties:428,retencao:78,bloqueado:3500,treasury:285,propostasAbertas:3,thresholdVoto:51,poolLiquidez:1200,royaltiesRate:5,saqueTaxa:15};async function h(){l(!0),await fetch("http://localhost:3000/api/governance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t})}),n(""),l(!1),e()}async function j(a){l(!0),await fetch("http://localhost:3000/api/governance/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({proposalId:a})}),l(!1),e()}return s?(0,r.jsxs)("div",{className:"error",children:[(0,r.jsx)("span",{role:"img","aria-label":"erro",children:"❌"})," Erro ao carregar propostas"]}):a?(0,r.jsx)("main",{className:"governanca-main",children:(0,r.jsxs)("div",{className:"dashboard-card",children:[(0,r.jsx)("div",{className:"dashboard-header",children:(0,r.jsx)("h1",{children:"Analytics & Governan\xe7a"})}),(0,r.jsxs)("div",{className:"dashboard-welcome",children:[(0,r.jsx)("span",{className:"dashboard-welcome-title",children:"Analytics do C\xedrculo"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"info-text",children:"M\xe9tricas on-chain em tempo real. Cards clic\xe1veis levam direto para a\xe7\xf5es r\xe1pidas."})]}),(0,r.jsxs)("div",{className:"metrics-cards",children:[(0,r.jsxs)("div",{className:"card metric-card",children:["Membros: ",(0,r.jsx)("b",{children:x.membros})]}),(0,r.jsxs)("div",{className:"card metric-card",children:["Receita: ",(0,r.jsxs)("b",{children:[x.receita," SUI"]})]}),(0,r.jsxs)("div",{className:"card metric-card",children:["Royalties Recebidos: ",(0,r.jsxs)("b",{children:[x.royalties," SUI"]})]}),(0,r.jsxs)("div",{className:"card metric-card",children:["Taxa de Reten\xe7\xe3o: ",(0,r.jsxs)("b",{children:[x.retencao,"%"]})]}),(0,r.jsxs)("div",{className:"card metric-card",children:["Valor Bloqueado: ",(0,r.jsxs)("b",{children:[x.bloqueado," SUI"]})]})]}),(0,r.jsxs)("div",{className:"quick-actions",children:[(0,r.jsx)("button",{className:"button",children:"Emitir NFT Mensal"}),(0,r.jsx)("button",{className:"button",children:"Nova Proposta"}),(0,r.jsx)("button",{className:"button",children:"Ajustar Pre\xe7o"}),(0,r.jsx)("button",{className:"button",children:"Ver Propostas"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)("h2",{className:"dashboard-section-title",children:"Governan\xe7a do C\xedrculo"}),(0,r.jsx)("div",{className:"propostas-list",children:0===a.data.length?(0,r.jsx)("div",{className:"info-text",children:"Nenhuma proposta encontrada."}):a.data.map(a=>(0,r.jsxs)("div",{className:"card proposta-card",children:[(0,r.jsx)("div",{className:"card-title",children:a.title}),(0,r.jsxs)("div",{className:"card-meta",children:["Votos: ",(0,r.jsx)("b",{children:a.votes})]}),(0,r.jsx)("button",{className:"button",onClick:()=>j(a._id),disabled:d,children:"Votar"})]},a._id))}),(0,r.jsxs)("div",{className:"nova-proposta-box",children:[(0,r.jsx)("input",{className:"input-proposta",value:t,onChange:a=>n(a.target.value),placeholder:"Nova proposta"}),(0,r.jsx)("button",{className:"button",onClick:h,disabled:d||!t,children:"Criar proposta"})]}),(0,r.jsx)("hr",{className:"divider"}),(0,r.jsx)("h2",{className:"dashboard-section-title",children:"Configura\xe7\xf5es Avan\xe7adas"}),(0,r.jsxs)("div",{className:"advanced-settings",children:[(0,r.jsxs)("div",{className:"card config-card",children:[(0,r.jsx)("b",{children:"Tokenomics"}),(0,r.jsx)("br",{}),"Royalties: ",x.royaltiesRate,"%",(0,r.jsx)("br",{}),"Taxa de Saque: ",x.saqueTaxa,"% (24h) → 2%",(0,r.jsx)("br",{}),"Pool de Liquidez: ",x.poolLiquidez," SUI"]}),(0,r.jsxs)("div",{className:"card config-card",children:[(0,r.jsx)("b",{children:"Governan\xe7a"}),(0,r.jsx)("br",{}),"Threshold de Voto: ",x.thresholdVoto,"%",(0,r.jsx)("br",{}),"Propostas Abertas: ",x.propostasAbertas," ativas",(0,r.jsx)("br",{}),"DAO Treasury: ",x.treasury," SUI"]}),(0,r.jsxs)("div",{className:"card config-card",children:[(0,r.jsx)("b",{children:"Integra\xe7\xf5es"}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox"})," Discord Bot (gated access)"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox"})," Telegram Premium Group"]}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox"})," API para Parceiros"]}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:"button config-btn",children:"Configurar"})]})]})]})}):(0,r.jsxs)("div",{className:"loading-box",children:[(0,r.jsx)("span",{role:"img","aria-label":"carregando",children:"⏳"})," Carregando..."]})}}},function(a){a.O(0,[381,774,888,179],function(){return a(a.s=6383)}),_N_E=a.O()}]);